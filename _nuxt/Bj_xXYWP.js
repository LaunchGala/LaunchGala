import{_ as w}from"./C780-bQF.js";import{a as x,_ as $}from"./DViuHHT3.js";import{_ as V}from"./BRuZpFG2.js";import{e as B,r as k,o as T,c as C,B as h,P as U,j as a,a as E,q as M,c9 as m,L as u,b as n,w as i,d as P}from"./DC9Rc9iq.js";import{a as z,b as F,s as K,c as N}from"./CqxpsNac.js";import{S}from"./tcoEriBs.js";const D={class:"flex items-end px-2 md:px-4 py-2 text-sm border rounded-lg text-muted-foreground bg-muted focus-within:ring-1 focus-within:ring-primary"},R=["disabled","placeholder"],J=B({__name:"PromptInput",props:{modelValue:{},loading:{type:Boolean},disabled:{type:Boolean},placeholder:{}},emits:["update:modelValue","submit"],setup(p,{emit:f}){const c=p,l=f,b=z(c,"modelValue",l,{passive:!0}),{textarea:r,input:o}=F(),d=k(!1);return K(o,b),N({passive:!1,onEventFired(t){var e;t.code==="Slash"&&t.type==="keydown"&&document.activeElement!==r.value&&(t.preventDefault(),(e=r.value)==null||e.focus())}}),(t,e)=>{const v=w,g=x,_=V,y=$;return T(),C("div",D,[h(E("textarea",{ref_key:"textarea",ref:r,"onUpdate:modelValue":e[0]||(e[0]=s=>M(o)?o.value=s:null),disabled:t.loading||t.disabled,class:"outline-none resize-none my-1 h-[20px] no-scrollbar font-medium w-full md:min-w-[26rem] bg-transparent px-1",placeholder:`${t.placeholder}.   ${a(d)?"(Press ‘Cmd+Enter‘ to generate)":"(Press ‘/‘ to type)"}`,onFocus:e[1]||(e[1]=s=>d.value=!0),onBlur:e[2]||(e[2]=s=>d.value=!1),onKeydown:[e[3]||(e[3]=m(u(s=>l("submit",a(o)),["meta"]),["enter"])),e[4]||(e[4]=m(u(s=>l("submit",a(o)),["ctrl"]),["enter"]))]},null,40,R),[[U,a(o)]]),n(y,{"delay-duration":100},{default:i(()=>[n(g,{"as-child":""},{default:i(()=>{var s;return[n(v,{size:"icon",class:"ml-4 mb-0.5 p-0 w-6 h-6 rounded",variant:"ghost",loading:t.loading,disabled:t.disabled||t.loading||!((s=a(o))!=null&&s.length),onClick:e[5]||(e[5]=j=>l("submit",a(o)))},{default:i(()=>[n(a(S),{class:"p-0.5"})]),_:1},8,["loading","disabled"])]}),_:1}),n(_,null,{default:i(()=>e[6]||(e[6]=[P(" Click to submit prompt ")])),_:1})]),_:1})])}}});export{J as _};

import{_ as H,a as K}from"./D3BUOiov.js";import{a as N,_ as j}from"./pJv19jnG.js";import{e as S,o as r,m,w as o,I as k,k as f,b as n,d as _,t as I,r as U,u as L,J as R,c as F,a,j as l,q as y,K as C,L as M,y as J}from"./D0hPKPsa.js";import{_ as W}from"./xiru90oy.js";import{_ as z}from"./DpVfWhoQ.js";import{_ as Q}from"./B146-RAi.js";import{_ as X,a as Y,b as Z}from"./Ba7GeBDK.js";import{_ as ee,a as te}from"./D3v31nmO.js";import{_ as oe,a as ne}from"./C98UvcwD.js";import{_ as ae}from"./BERTRDZY.js";import{u as se}from"./Tgvccnlv.js";import{u as ie,a as le,b as re}from"./BpA5sTOg.js";import{u as ue}from"./BaDBuZE1.js";import{G as me}from"./CGiuT9sw.js";import"./0A0oTV4N.js";import"./OMFAdh4D.js";import"./DrI_N8as.js";import"./B40IJLOr.js";import"./Covj5mT0.js";import"./B0_BzQN6.js";import"./VtAtmFVs.js";import"./BRcFwtYB.js";import"./Cv1CPOZ7.js";import"./tZ7f_Ho5.js";import"./BFMW6-gF.js";import"./DvDH6DOc.js";import"./CretQxXr.js";const pe=S({__name:"DialogAction",props:{title:{},description:{}},setup(V){return(t,w)=>{const $=X,b=ee,p=oe,g=te,s=ne,v=Y,u=Z;return r(),m(u,null,{default:o(()=>[t.$slots.default?(r(),m($,{key:0,"as-child":""},{default:o(()=>[k(t.$slots,"default")]),_:3})):f("",!0),n(v,null,{default:o(()=>[t.title||t.description?(r(),m(g,{key:0},{default:o(()=>[t.title?(r(),m(b,{key:0},{default:o(()=>[_(I(t.title),1)]),_:1})):f("",!0),t.description?(r(),m(p,{key:1},{default:o(()=>[_(I(t.description),1)]),_:1})):f("",!0)]),_:1})):f("",!0),k(t.$slots,"body"),t.$slots.footer?(r(),m(s,{key:1,class:"sm:justify-center"},{default:o(()=>[k(t.$slots,"footer")]),_:3})):f("",!0)]),_:3})]),_:3})}}}),de={class:"pb-4 md:pb-8"},ce={class:"mb-8 w-full h-[65vh] flex items-center justify-center magicpattern"},fe={class:"w-full p-3 md:p-6 border bg-secondary rounded-xl"},_e={class:"px-1 pb-1 w-full"},Le=S({__name:"indexV0",setup(V){const t=U(""),{data:w}=se("/api/component/all","$BqdRyTMhjd"),{isNewPrompt:$,handleInit:b,loading:p}=ie(),{toast:g}=ue(),s=le(),{loggedIn:v}=re(),u=U(!1),d=U(v.value&&!s.value);async function h(){var c;if(t.value){if(!v.value){u.value=!0;return}if(!s.value){d.value=!0;return}p.value=!0,$.value=!0,C("create-generation");try{const e=await b(t.value);await J(`/t/${e.slug}`)}catch(e){console.log({err:e}),g({variant:"destructive",title:"Error",description:((c=e==null?void 0:e.data)==null?void 0:c.message)??"Something wrong"})}finally{p.value=!1}}}function T(){if(s.value.startsWith("sk-")===!1){g({variant:"destructive",title:"Error",description:"Please enter a correct OpenAI API key"});return}d.value=!1}return L({meta:[{property:"og:image",content:`${R().public.siteUrl}/og.png`}]}),(c,e)=>{const G=N,x=j,P=W,B=H,E=K,O=z,D=Q,A=pe,q=ae;return r(),F("div",de,[a("div",ce,[n(E,{class:"mx-auto md:min-w-96 w-full max-w-[600px]"},{default:o(()=>[n(x,null,{default:o(()=>[n(G,null,{default:o(()=>e[5]||(e[5]=[_("Generate component with prompt")])),_:1})]),_:1}),n(B,null,{default:o(()=>[n(P,{modelValue:l(t),"onUpdate:modelValue":e[0]||(e[0]=i=>y(t)?t.value=i:null),placeholder:"A login page",loading:l(p),onSubmit:h},null,8,["modelValue","loading"])]),_:1})]),_:1})]),a("div",fe,[e[6]||(e[6]=a("h2",{class:"my-3 md:my-6 text-2xl md:text-3xl font-bold text-center"}," Generated ",-1)),n(O,{data:l(w)},null,8,["data"])]),n(A,{open:l(u),"onUpdate:open":e[2]||(e[2]=i=>y(u)?u.value=i:null),title:"Sign in to vue0.dev",description:"A GitHub account is required to use vue0."},{footer:o(()=>[a("a",{href:"/api/auth/github",class:"ml-auto",onClick:e[1]||(e[1]=i=>("umTrackEvent"in c?c.umTrackEvent:l(C))("login"))},[n(D,null,{default:o(()=>[n(l(me),{class:"mr-2 h-4 w-4"}),e[7]||(e[7]=a("span",null,"Login with GitHub",-1))]),_:1})])]),_:1},8,["open"]),n(A,{open:l(d),"onUpdate:open":e[4]||(e[4]=i=>y(d)?d.value=i:null),title:"Setup OpenAI API Key"},{body:o(()=>[a("form",{class:"flex flex-col gap-4",onSubmit:M(T,["prevent"])},[e[9]||(e[9]=a("p",{class:"text-sm"},[_(" Get your own "),a("a",{href:"https://platform.openai.com/api-keys",target:"_blank",class:"underline"},"OpenAI API key"),_(" and enter it below: ")],-1)),a("div",_e,[n(q,{modelValue:l(s),"onUpdate:modelValue":e[3]||(e[3]=i=>y(s)?s.value=i:null),placeholder:"sk-************ (Required)",required:""},null,8,["modelValue"])]),n(D,{type:"submit",class:"ml-auto"},{default:o(()=>e[8]||(e[8]=[a("span",null,"Save",-1)])),_:1})],32)]),_:1},8,["open"])])}}});export{Le as default};

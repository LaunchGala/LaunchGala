import{u as N}from"./M2r2zFvZ.js";import{e as k,v as T,r as p,D as B,s as C,o as U,c as P,b as n,w as i,d as v,j as c,B as a,C as u,a as V,F as $}from"./D0hPKPsa.js";import{_ as d}from"./B146-RAi.js";import"./Covj5mT0.js";const q=k({__name:"CreateExpert",setup(y){var g,_;const x=N(),f=T();p("");const s=p(1),t=p({created_by:(g=f.value)==null?void 0:g.id,profile_id:(_=f.value)==null?void 0:_.id,expert_types:[],is_published:!1}),l=B();function m(o){t.value.is_published=o;var e=o?"Expert Published":"Expert Unpublished";console.log(t.value),x.from("AllExperts").upsert([t.value]).then(r=>{console.log(r),l.success(e,{timeout:5e3})}).catch(r=>{console.log(r),l.error("Error: Expert Not Updated",{timeout:5e3})})}function S(){console.log(t.value),x.from("AllExperts").upsert([t.value]).then(o=>{console.log(o),l.success("Expert Saved",{timeout:5e3})}).catch(o=>{console.log(o),l.error("Error: Expert Not Saved",{timeout:5e3})})}function E(o){o&&(t.value=o),s.value+=1,window.scrollTo(0,0)}function b(){s.value-=1,window.scrollTo(0,0)}return(o,e)=>{const r=C("ExpertCreating01"),w=C("ExpertCreating02");return U(),P($,null,[n(c(d),{class:"text-l ml-14 mt-6 bg-white text-orange-500 border-orange-500 hover:bg-orange-100 font-bold",onClick:S},{default:i(()=>e[2]||(e[2]=[v("Save")])),_:1}),a(n(c(d),{onClick:e[0]||(e[0]=h=>m(!0))},{default:i(()=>e[3]||(e[3]=[v(" Publish ")])),_:1},512),[[u,s.value>1&&!t.value.is_published]]),a(n(c(d),{onClick:e[1]||(e[1]=h=>m(!1))},{default:i(()=>e[4]||(e[4]=[v(" Unpublish ")])),_:1},512),[[u,s.value>1&&t.value.is_published]]),V("div",null,[a(n(r,{event:t.value,onNextStep:E,onPreviousStep:b},null,8,["event"]),[[u,s.value===1]]),a(n(w,{event:t.value,onNextStep:E,onPreviousStep:b},null,8,["event"]),[[u,s.value===2]])])],64)}}});export{q as default};

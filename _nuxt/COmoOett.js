import{e as ct,x as F,bv as Dt,cR as St,df as Nt,r as J,dg as ft,g as tt,c4 as dt,j as b,p as _t,bS as Ct,bZ as kt,bT as gt,bH as pt,bQ as Pt,bR as Tt,o as Y,c as R,b as S,w as P,F as et,l as nt,d as $t,t as ot,a as rt}from"./D0hPKPsa.js";import{_ as at}from"./B146-RAi.js";import{a as jt,_ as Et}from"./D3BUOiov.js";import{_ as Lt,a as Mt}from"./pJv19jnG.js";import{b as Bt,_ as Ot,a as At}from"./BkU2TU9n.js";import{P as Yt}from"./DvLQTyFR.js";import{T as Rt}from"./mje1Ox_j.js";import"./Covj5mT0.js";var Ft={};function mt(t){return Pt()?(Tt(t),!0):!1}function A(){const t=new Set,n=o=>{t.delete(o)};return{on:o=>{t.add(o);const r=()=>n(o);return mt(r),{off:r}},off:n,trigger:(...o)=>Promise.all(Array.from(t).map(r=>r(...o)))}}function p(t,n){return n==null?b(t):b(t)[n]}function yt(t){return typeof t=="function"?t():b(t)}const Vt=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Xt=Object.prototype.toString,Ht=t=>Xt.call(t)==="[object Object]",Ut=()=>{};function ht(t){return gt()}function K(t,n=!0,o){ht()?_t(t,o):n?t():Ct(t)}function Wt(t,n){ht()&&kt(t,n)}function Z(t){var n;const o=yt(t);return(n=o==null?void 0:o.$el)!=null?n:o}const Gt=Vt?window:void 0;function X(...t){let n,o,r,e;if(typeof t[0]=="string"||Array.isArray(t[0])?([o,r,e]=t,n=Gt):[n,o,r,e]=t,!n)return Ut;Array.isArray(o)||(o=[o]),Array.isArray(r)||(r=[r]);const a=[],f=()=>{a.forEach(d=>d()),a.length=0},y=(d,w,T,j)=>(d.addEventListener(w,T,j),()=>d.removeEventListener(w,T,j)),m=F(()=>[Z(n),yt(e)],([d,w])=>{if(f(),!d)return;const T=Ht(w)?{...w}:w;a.push(...o.flatMap(j=>r.map(B=>y(d,j,B,T))))},{immediate:!0,flush:"post"}),x=()=>{m(),f()};return mt(x),x}function zt(t,n=null){const o=gt();let r=()=>{};const e=St((a,f)=>(r=f,{get(){var y,m;return a(),(m=(y=o==null?void 0:o.proxy)==null?void 0:y.$refs[t])!=null?m:n},set(){}}));return K(r),Nt(r),e}function q(t,n){for(let o=0,r=t.length;o<r;o++)if(n.apply(n,[t[o],o,t]))return t[o]}function Q(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function vt(t){return!!("targetTouches"in t&&t.targetTouches&&"changedTouches"in t&&t.changedTouches)}function H(t){return!Number.isNaN(t)}function h(t){return Number.parseInt(t,10)}const W=["Moz","Webkit","O","ms"];function It(t="transform"){var n,o;if(typeof window>"u")return"";const r=(o=(n=window.document)==null?void 0:n.documentElement)==null?void 0:o.style;if(!r||t in r)return"";for(let e=0;e<W.length;e++)if(bt(t,W[e])in r)return W[e];return""}function bt(t,n){return n?`${n}${qt(t)}`:t}function qt(t){let n="",o=!0;for(let r=0;r<t.length;r++)o?(n+=t[r].toUpperCase(),o=!1):t[r]==="-"?o=!0:n+=t[r];return n}const Qt=It();let U="";function Jt(t,n){return U||(U=q(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],o=>Q(t[o]))),Q(t[U])?t[U](n):!1}function st(t,n,o){let r=t;do{if(Jt(r,n))return!0;if(r===o)return!1;r=r.parentNode}while(r);return!1}function lt(t,n,o,r){if(!t)return;const e={capture:!0,...r};t.addEventListener?t.addEventListener(n,o,e):t[`on${n}`]=o}function it(t,n,o,r){if(!t)return;const e={capture:!0,...r};t.removeEventListener?t.removeEventListener(n,o,e):t[`on${n}`]=null}function Kt(t){var n;let o=t.clientHeight;const r=(n=t.ownerDocument.defaultView)==null?void 0:n.getComputedStyle(t);return o+=h(r==null?void 0:r.borderTopWidth),o+=h(r==null?void 0:r.borderBottomWidth),o}function Zt(t){var n;let o=t.clientWidth;const r=(n=t.ownerDocument.defaultView)==null?void 0:n.getComputedStyle(t);return o+=h(r==null?void 0:r.borderLeftWidth),o+=h(r==null?void 0:r.borderRightWidth),o}function te(t,n){return q(t.targetTouches,o=>n===o.identifier)||q(t.changedTouches,o=>n===o.identifier)}function ee(t){if(vt(t)){if(t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches[0])return t.changedTouches[0].identifier}}function ne(t){var n;let o=t.clientHeight;const r=(n=t.ownerDocument.defaultView)==null?void 0:n.getComputedStyle(t);return o-=h(r==null?void 0:r.paddingTop),o-=h(r==null?void 0:r.paddingBottom),o}function oe(t){var n;let o=t.clientWidth;const r=(n=t.ownerDocument.defaultView)==null?void 0:n.getComputedStyle(t);return o-=h(r==null?void 0:r.paddingLeft),o-=h(r==null?void 0:r.paddingRight),o}function re(t,n,o){const r=n===n.ownerDocument.body?{left:0,top:0}:n.getBoundingClientRect(),e=(t.clientX+n.scrollLeft-r.left)/o,a=(t.clientY+n.scrollTop-r.top)/o;return{x:e,y:a}}function ae(t,n){const o=xt(t,"px",n);return{[bt("transform",Qt)]:o}}function se(t,n){return xt(t,"",n)}function xt({x:t,y:n},o="px",r){let e=`translate(${Math.round(t)}${o},${Math.round(n)}${o})`;if(r){const a=`${typeof r.x=="string"?r.x:Math.round(r.x)+o}`,f=`${typeof r.y=="string"?r.y:Math.round(r.y)+o}`;e=`translate(${a}, ${f})${e}`}return e}function le(t){if(t){if(!t.getElementById("revue-draggable-style-el")){const n=t.createElement("style");n.type="text/css",n.id="revue-draggable-style-el",n.innerHTML=`.revue-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,n.innerHTML+=`.revue-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(n)}t.body&&ue(t.body,"revue-draggable-transparent-selection")}}function ie(t){if(t)try{t.body&&ce(t.body,"revue-draggable-transparent-selection");const n=(t.defaultView||window).getSelection();n&&n.type!=="Caret"&&n.removeAllRanges()}catch{}}function ue(t,n){t.classList?t.classList.add(n):t.className.match(new RegExp(`(?:^|\\s)${n}(?!\\S)`))||(t.className+=` ${n}`)}function ce(t,n){t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp(`(?:^|\\s)${n}(?!\\S)`,"g"),"")}function fe({bounds:t,x:n,y:o,node:r}){if(!t)return[n,o];if(t=typeof t=="string"?t:me(t),typeof t=="string"){const{ownerDocument:e}=r,a=e.defaultView,f=t==="parent"?r.parentNode:e.querySelector(t);if(!(a&&f instanceof a.HTMLElement))throw new Error(`Bounds selector "${t}" could not find an element.`);const y=a.getComputedStyle(r),m=a.getComputedStyle(f),x="offsetLeft"in r?r.offsetLeft:0,d="offsetTop"in r?r.offsetTop:0;t={left:-(x-f.offsetLeft)+h(m.paddingLeft)+h(y.marginLeft),top:-(d-f.offsetTop)+h(m.paddingTop)+h(y.marginTop),right:oe(f)-Zt(r)-x+h(m.paddingRight)-h(y.marginRight),bottom:ne(f)-Kt(r)-d+h(m.paddingBottom)-h(y.marginBottom)}}return H(t.right)&&(n=Math.min(n,t.right)),H(t.bottom)&&(o=Math.min(o,t.bottom)),H(t.left)&&(n=Math.max(n,t.left)),H(t.top)&&(o=Math.max(o,t.top)),[n,o]}function de(t,n,o){const r=Math.round(n/t[0])*t[0],e=Math.round(o/t[1])*t[1];return[r,e]}function ge(t){return t==="both"||t==="x"}function pe(t){return t==="both"||t==="y"}function G({e:t,touch:n,node:o,offsetContainer:r,scale:e}){const a=typeof n=="number"&&vt(t)?te(t,n):null;if(typeof n=="number"&&!a)return null;const f=r||"offsetParent"in o&&o.offsetParent||o.ownerDocument.body;return re(a||t,f,e)}function z({node:t,x:n,y:o,lastX:r,lastY:e}){return Number.isNaN(r)?{node:t,deltaX:0,deltaY:0,lastX:n,lastY:o,x:n,y:o}:{node:t,deltaX:n-r,deltaY:o-e,lastX:r,lastY:e,x:n,y:o}}function I({x:t,y:n,data:o}){return{node:o.node,x:t+o.deltaX,y:n+o.deltaY,deltaX:o.deltaX,deltaY:o.deltaY,lastX:t,lastY:n}}function me(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function M(...t){typeof process<"u"&&Ft.DRAGGABLE_DEBUG&&console.log(...t)}const wt=t=>{const n=pt(Object.assign({allowAnyClick:!1,cancel:"",handle:"",disabled:!1,enableUserSelectHack:!0,enableTransformFix:!1,offsetParent:void 0,grid:void 0,start:()=>{},move:()=>{},stop:()=>{},mouseDown:()=>{},position:void 0,currentPosition:{x:Number.NaN,y:Number.NaN},positionOffset:void 0,scale:1,axis:"both",defaultClassNameDragging:"revue-draggable-dragging",defaultClassNameDragged:"revue-draggable-dragged",defaultClassName:"revue-draggable",defaultPosition:{x:0,y:0},bounds:!1,dragging:!1,dragged:!1,prevPropsPosition:{x:0,y:0},isElementSVG:!1,update:!0},t));return()=>n},$={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let L=$.mouse;function ye(t,n,o){const r=J(),e=Q(n)?n():wt(n)(),a=pt({x:Number.NaN,y:Number.NaN}),f=A(),y=A(),m=A();return ft().run(()=>{F(()=>e,u=>{u.position&&!u.dragging&&(a.x=Number.NaN,a.y=Number.NaN)});const x=u=>{const g=p(r);if(!e.allowAnyClick&&"button"in u&&u.button!==0)return!1;if(!g||!g.ownerDocument||!g.ownerDocument.body)throw new Error("No ref element found on DragStart!");const{ownerDocument:D}=g;if(e.disabled||!(D.defaultView&&u.target!==null&&u.target instanceof D.defaultView.Node)||e.handle&&!st(u.target,e.handle,g)||e.cancel&&st(u.target,e.cancel,g))return;u.type==="touchstart"&&u.preventDefault(),e.touch=ee(u);const C=G({e:u,touch:e.touch,node:g,offsetContainer:e.offsetParent,scale:e.scale});if(C==null)return;const{x:k,y:N}=C,s=z({node:g,x:k,y:N,lastX:a.x,lastY:a.y});M("DraggableCore: handleDragStart: %j",s);const l=!0;f.trigger({event:u,data:s}),e.enableUserSelectHack&&le(D),e.dragging=!0,a.x=k,a.y=N,lt(D,L.move,d),lt(D,L.stop,w)},d=u=>{const g=p(r);if(g){const D=G({e:u,touch:e.touch,node:g,offsetContainer:e.offsetParent,scale:e.scale});if(D==null)return;let{x:C,y:k}=D;const N=e.grid;if(N&&Array.isArray(N)){let i=C-a.x,c=k-a.y;if([i,c]=de(N,i,c),!i&&!c)return;C=a.x+i,k=a.y+c}const s=z({node:g,x:C,y:k,lastX:a.x,lastY:a.y});M("DraggableCore: handleDrag: %j",s);const l=!0;y.trigger({event:u,data:s}),a.x=C,a.y=k}},w=u=>{const g=p(r);if(e.dragging&&g){const D=G({e:u,touch:e.touch,node:g,offsetContainer:e.offsetParent,scale:e.scale});if(D==null)return;const{x:C,y:k}=D,N=z({node:g,x:C,y:k,lastX:a.x,lastY:a.y}),s=!0;m.trigger({event:u,data:N}),e.enableUserSelectHack&&ie(g.ownerDocument),M("DraggableCore: handleDragStop: %j",N),e.dragging=!1,M("DraggableCore: Removing handlers"),it(g.ownerDocument,L.move,d),it(g.ownerDocument,L.stop,w)}},T=u=>{var g;if(L=$.mouse,(g=e.mouseDown)==null||g.call(e,u),u.which!=3)return x(u)},j=u=>(L=$.mouse,w(u)),B=u=>(L=$.touch,x(u)),V=u=>(L=$.touch,w(u));K(()=>{if(r.value=Z(t),!r.value){console.error("You are trying to use <DraggableCore> without passing a valid node reference. Canceling initialization.");return}X(p(r),$.touch.start,B,{passive:!1}),X(p(r),$.touch.stop,V),X(p(r),$.mouse.start,T),X(p(r),$.mouse.stop,j)})}),{...dt(e),state:e,onDragStart:f.on,onDrag:y.on,onDragStop:m.on}}function he(t,n){const o=J(),r=wt(n),e=r(),a=A(),f=A(),y=A(),m=A();return ft().run(()=>{const x=(s,l)=>{M("Draggable: onDragStart: %j",l);const i=I({data:l,...e.currentPosition}),c=e.start?e.start(s,i):e.update;if(a.trigger({event:s,data:i}),typeof c<"u"&&!c)return!1;e.dragging=!0,e.dragged=!0},d=(s,l)=>{if(!e.dragging)return!1;M("Draggable: onDrag: %j",l);const i=I({data:l,...e.currentPosition}),c={x:i.x,y:i.y};if(e.bounds){const[_,O]=fe({bounds:e.bounds,x:c.x,y:c.y,node:l.node});c.x=_,c.y=O,i.x=c.x,i.y=c.y,i.deltaX=c.x-e.currentPosition.x,i.deltaY=c.y-e.currentPosition.y}const v=e.move?e.move(s,i):e.update;if(f.trigger({event:s,data:i}),typeof v<"u"&&!v)return!1;e.currentPosition=c,V()},w=(s,l)=>{if(!e.dragging)return!1;const i=I({data:l,...e.currentPosition}),c=e.stop?e.stop(s,i):e.update;if(y.trigger({event:s,data:i}),typeof c<"u"&&!c)return!1;M("Draggable: onDragStop: %j",l),e.enableTransformFix&&T(),e.dragging=!1},T=()=>{var s,l;const i=p(o);if(!i)return;i.style.transform="",i.style.left="",i.style.top="",i.style.position="relative";const{x:c,y:v}=B.value;i.style.left=`${Math.round(h((s=e.positionOffset)==null?void 0:s.x)||0)+Math.round(Number(c))}px`,i.style.top=`${Math.round(h((l=e.positionOffset)==null?void 0:l.y)||0)+Math.round(Number(v))}px`},j=()=>{const s=p(o);s&&(s.style.transform="",s.style.position="",s.style.left="",s.style.top="")},B=tt(()=>{const s=!!e.position||e.dragging,l=e.position||e.defaultPosition;return{x:ge(e.axis)&&p(s)?e.currentPosition.x:p(l).x,y:pe(e.axis)&&p(s)?e.currentPosition.y:p(l).y}}),V=(s=!1)=>{const l=p(o);if(l&&(s||e.update&&e.dragging)){e.enableTransformFix&&j();const i=e.positionOffset,c=e.isElementSVG,v=!c&&ae(p(B),i)||!1,_=c&&se(p(B),i)||!1;if(typeof _=="string"&&l.setAttribute("transform",_),v)for(const E of Object.keys(v))E==="transform"&&(v[E]+=`${l.style[E]}`.replace(/translate\((-?\d+?.{0,2},? ?)+\)+/gm,"").trim()),l.style[E]=v[E];const O={el:p(o),style:v,transform:_,classes:u.value};m.trigger(O)}},u=tt(()=>({[e.defaultClassName]:!e.disabled,[e.defaultClassNameDragging]:e.dragging,[e.defaultClassNameDragged]:e.dragged})),g=()=>Object.keys(p(u)).forEach(s=>{var l,i;p(u)[s]?(l=p(o))==null||l.classList.toggle(s,!0):(i=p(o))==null||i.classList.toggle(s,!1)});F(u,g);const{onDragStart:D,onDrag:C,onDragStop:k}=ye(t,r);C(({event:s,data:l})=>d(s,l)),D(({event:s,data:l})=>x(s,l)),k(({event:s,data:l})=>w(s,l));const N=(s=!1)=>{const l=e.position;M("Draggable: Updated %j",{position:e.currentPosition,prevPropsPosition:e.prevPropsPosition}),l&&(e.currentPosition=l,e.prevPropsPosition={...l}),e.enableTransformFix?T():V(s)};Wt(()=>{e.dragging=!1}),K(()=>{var s;if(o.value=Z(t),!o){console.error("You are trying to use <Draggable> without passing a valid target reference.");return}let l=0,i=0;const c=e.position,v=e.defaultPosition,_=(s=p(o))==null?void 0:s.style;c&&typeof c.x<"u"?l=c.x:v&&typeof v.x<"u"?l=v.x:_&&_.top&&(l=h(_.top)),c&&typeof c.y<"u"?i=c.y:v&&typeof v.y<"u"?i=v.y:_&&_.left&&(i=h(_.left)),e.currentPosition={x:l,y:i},g(),N(!0),F(()=>e.position,O=>{let E=!1;((O==null?void 0:O.x)!==e.currentPosition.x||O.y!==e.currentPosition.y)&&(E=!0),N(E)})})}),{...dt(e),state:e,onDragStart:a.on,onDrag:f.on,onDragStop:y.on,onTransformed:m.on}}const ve=ct({name:"Draggable",props:{axis:{type:String,default:"both"},bounds:{type:[Object,String,Boolean],default:!1},defaultClassName:{type:String,default:"revue-draggable"},defaultClassNameDragging:{type:String,default:"revue-draggable-dragging"},defaultClassNameDragged:{type:String,default:"revue-draggable-dragged"},defaultPosition:{type:Object,default:()=>({x:0,y:0})},scale:{type:Number,default:1},position:{type:Object,default:void 0},positionOffset:{type:Object,default:void 0},allowAnyClick:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},enableUserSelectHack:{type:Boolean,default:!0},enableTransformFix:{type:[Boolean,Object],default:!1},cancel:{type:String,default:void 0},offsetParent:{type:Object,default:()=>{}},grid:{type:Array,default:void 0},handle:{type:String,default:void 0},update:{type:Boolean,default:!0},start:{type:Function,default:()=>{}},move:{type:Function,default:()=>{}},stop:{type:Function,default:()=>{}},mouseDown:{type:Function,default:()=>{}}},emits:["move","start","stop","transformed"],setup(t,{slots:n,emit:o,attrs:r}){const e=zt("target",null),{onDrag:a,onDragStart:f,onDragStop:y,onTransformed:m,state:x}=he(e,t);return a(d=>o("move",d)),f(d=>o("start",d)),y(d=>o("stop",d)),m(d=>o("transformed",d)),F(()=>t,d=>Object.assign(x,d),{deep:!0,flush:"post"}),()=>{if(n.default)return Dt(n.default({state:x})[0],{ref:"target",...r},{})}}}),ut=ve,be={class:"flex space-x-4 p-8"},xe={class:"flex justify-between items-center"},Te=ct({__name:"test",setup(t){const n=J([{title:"Backlog",tasks:["Create mockup","Review requirements"]},{title:"In Progress",tasks:["Implement feature"]},{title:"Review",tasks:[]},{title:"Done",tasks:["Set up project"]}]);function o(e){const a=window.prompt("Enter task title:");a&&n.value[e].tasks.push(a)}function r(e,a){n.value[e].tasks.splice(a,1)}return(e,a)=>(Y(),R("div",be,[S(b(ut),{tag:"div",list:"columns",class:"flex space-x-4"},{default:P(()=>[(Y(!0),R(et,null,nt(n.value,(f,y)=>(Y(),R("div",{key:f.title,class:"flex flex-col bg-gray-200 dark:bg-black p-6 rounded-lg w-80"},[S(b(Bt),null,{default:P(()=>[S(b(jt),null,{default:P(()=>[S(b(Lt),{class:"flex justify-between items-center px-4 py-3"},{default:P(()=>[S(b(Ot),{"as-child":""},{default:P(()=>[S(b(Mt),{class:"cursor-pointer"},{default:P(()=>[$t(ot(f.title),1)]),_:2},1024)]),_:2},1024),S(b(at),{variant:"ghost",onClick:m=>o(y)},{default:P(()=>[S(b(Yt),{class:"w-6 h-6"})]),_:2},1032,["onClick"])]),_:2},1024),S(b(At),{"as-child":""},{default:P(()=>[S(b(Et),{class:"px-4 py-3"},{default:P(()=>[S(b(ut),{tag:"div",list:"col.tasks",class:"space-y-4"},{default:P(()=>[(Y(!0),R(et,null,nt(f.tasks,(m,x)=>(Y(),R("div",{key:m,class:"bg-white dark:bg-gray-800 p-4 rounded-md shadow-md"},[rt("div",xe,[rt("span",null,ot(m),1),S(b(at),{variant:"ghost",class:"text-gray-400 hover:text-red-500",onClick:d=>r(y,x)},{default:P(()=>[S(b(Rt),{class:"w-6 h-6"})]),_:2},1032,["onClick"])])]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]))}});export{Te as default};
